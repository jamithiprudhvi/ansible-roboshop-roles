
    - name: create user for {{component}}
      ansible.builtin.user:
        name: roboshop
        shell: /sbin/nologin
        system: true
        home: /app

    -  name: create app directory
       ansible.builtin.file:
        path: /app
        state: directory


    - name: download {{component}} code
      ansible.builtin.get_url:
        url: https://roboshop-artifacts.s3.amazonaws.com/{{component}}-v3.zip
        dest: /tmp

    # - name: current directory
    #   ansible.builtin.command: cd /app    

    - name: unzip the {{component}} code
      ansible.builtin.unarchive:
        src: /tmp/{{component}}-v3.zip
        dest: /app  
        remote_src: yes 